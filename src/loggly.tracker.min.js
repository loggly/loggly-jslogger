!function(a,b){function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}function d(){this.key=!1,this.sendConsoleErrors=!1}function e(a,b,c){a.key=b,a.tags=c,a.setSession(),g(a)}function f(b,c){if(b.sendConsoleErrors=c,b.sendConsoleErrors===!0){var d=a.onerror;a.onerror=function(c,e,f,g){b.push({category:"BrowserJsException",exception:{message:c,url:e,lineno:f,colno:g}}),d&&"function"==typeof d&&d.apply(a,arguments)}}}function g(a){var b=h+(a.logglyCollectorDomain||i)+"/inputs/"+a.key;a.tags&&a.tags.constructor===Array&&(b+="/tag/"+a.tags.join()),b+=j,a.inputUrl=b}var h="http"+("https:"===b.location.protocol?"s":"")+"://",i="logs-01.loggly.com",j="/1*1.gif?",k="logglytrackingsession",l=k.length+1;d.prototype={setSession:function(a){a?(this.session_id=a,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id=c(),this.setCookie(this.session_id)))},push:function(a){var b=typeof a;if(a&&("object"===b||"string"===b)){var c=this;if("string"===b)a={text:a};else{if(a.logglyCollectorDomain)return void(c.logglyCollectorDomain=a.logglyCollectorDomain);if(void 0!==a.sendConsoleErrors&&f(c,a.sendConsoleErrors),a.logglyKey)return e(c,a.logglyKey,a.tags),void(c.clientInfo=a.clientInfo);if(a.session_id)return void c.setSession(a.session_id)}c.key&&(c.clientInfo&&c.setClientInfo(a),c.track(a))}},track:function(b){b.sessionId=this.session_id;try{var c=new Image,d="PLAINTEXT="+encodeURIComponent(JSON.stringify(b));c.src=this.inputUrl+d}catch(e){a&&a.console&&"function"==typeof a.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+e),console.log("Failed log data:",b))}},readCookie:function(){var a=b.cookie,c=a.indexOf(k);if(0>c)return!1;var d=a.indexOf(";",c+1);return d=0>d?a.length:d,a.slice(c+l,d)},setCookie:function(a){b.cookie=k+"="+a},setClientInfo:function(a){if(!this._client){if(this._client={},navigator){var b,c,d,e=navigator.appVersion,f=navigator.userAgent,g=navigator.appName,h=""+parseFloat(navigator.appVersion),i="-";-1!=(c=f.indexOf("Opera"))?(g="Opera",h=f.substring(c+6),-1!=(c=f.indexOf("Version"))&&(h=f.substring(c+8))):-1!=(c=f.indexOf("MSIE"))?(g="Microsoft Internet Explorer",h=f.substring(c+5)):-1!=(c=f.indexOf("Chrome"))?(g="Chrome",h=f.substring(c+7)):-1!=(c=f.indexOf("Safari"))?(g="Safari",h=f.substring(c+7),-1!=(c=f.indexOf("Version"))&&(h=f.substring(c+8))):-1!=(c=f.indexOf("Firefox"))?(g="Firefox",h=f.substring(c+8)):-1!=f.indexOf("Trident/")?(g="Microsoft Internet Explorer",h=f.substring(f.indexOf("rv:")+3)):(b=f.lastIndexOf(" ")+1)<(c=f.lastIndexOf("/"))&&(g=f.substring(b,c),h=f.substring(c+1),g.toLowerCase()==g.toUpperCase()&&(g=navigator.appName)),-1!=(d=h.indexOf(";"))&&(h=h.substring(0,d)),-1!=(d=h.indexOf(" "))&&(h=h.substring(0,d)),-1!=(d=h.indexOf(")"))&&(h=h.substring(0,d));var j=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(e),k=i,l=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var m in l){var n=l[m];if(n.r.test(f)){k=n.s;break}}var o=i;switch(/Windows/.test(k)&&(o=/Windows (.*)/.exec(k)[1],k="Windows"),k){case"Mac OS X":o=/Mac OS X (10[\.\_\d]+)/.exec(f)[1];break;case"Android":o=/Android ([\.\_\d]+)/.exec(f)[1];break;case"iOS":o=/OS (\d+)_(\d+)_?(\d+)?/.exec(e),o=o[1]+"."+o[2]+"."+(0|o[3])}this._client.browser=g,this._client.browserVersion=h,this._client.os=k,this._client.osVersion=o,this._client.mobile=j,this._client.cookieEnabled=navigator.cookieEnabled}screen&&(this._client.screenSize=""+screen.width+"x"+screen.height)}a.browser=this._client}};var m=a._LTracker,n=new d;if(m&&m.length){var o=0,p=m.length;for(o=0;p>o;o++)n.push(m[o])}a._LTracker=n,a.LogglyTracker=d}(window,document);
//# sourceMappingURL=loggly.tracker.min.map